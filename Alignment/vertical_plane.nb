(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 10.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     39269,       1011]
NotebookOptionsPosition[     36449,        918]
NotebookOutlinePosition[     37253,        945]
CellTagsIndexPosition[     37210,        942]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell["Initialize.", "Text",
 CellChangeTimes->{{3.677155481291274*^9, 3.67715548495728*^9}}],

Cell[BoxData[{
 RowBox[{"ClearAll", ";"}], "\[IndentingNewLine]", 
 RowBox[{"ClearSystemCache", ";"}], "\[IndentingNewLine]", 
 RowBox[{"Get", "[", 
  RowBox[{"FileNameJoin", "[", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"ParentDirectory", "[", 
      RowBox[{"NotebookDirectory", "[", "]"}], "]"}], ",", "\"\<Lib\>\"", 
     ",", "\"\<Rotations.m\>\""}], "}"}], "]"}], 
  "]"}], "\[IndentingNewLine]"}], "Input",
 CellChangeTimes->{{3.6771515156172924`*^9, 3.677151558334167*^9}, {
  3.6771537852052584`*^9, 3.6771537910708685`*^9}, {3.677174058932682*^9, 
  3.6771740630364895`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"calcG1FromTXY", "[", 
    RowBox[{"TiltX_", ",", "TiltY_"}], "]"}], ":=", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"G1", ",", "G1x", ",", "G1y", ",", "G1z"}], "}"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"G1x", "=", 
       RowBox[{"Sin", "[", "TiltY", "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"G1y", "=", 
       RowBox[{"-", 
        RowBox[{"Sin", "[", "TiltX", "]"}]}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"G1z", "=", " ", 
       RowBox[{"-", 
        RowBox[{"Sqrt", "[", 
         RowBox[{"1", " ", "-", " ", 
          RowBox[{"G1x", "^", "2"}], " ", "-", " ", 
          RowBox[{"G1y", "^", "2"}]}], "]"}]}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"G1", "=", 
       RowBox[{"{", 
        RowBox[{"G1x", ",", "G1y", ",", "G1z"}], "}"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"Return", "[", "G1", "]"}]}]}], "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.6772668097616715`*^9, 3.6772668147420807`*^9}, {
  3.6772672580550756`*^9, 3.677267261676282*^9}}],

Cell["\<\
The gravity vector is a unit vector in the direction of gravity. \
\[OpenCurlyDoubleQuote]Down is where it goes\[CloseCurlyDoubleQuote].The \
gravity vector in the sensor body coordinate system is:\
\>", "Text",
 CellChangeTimes->{{3.6771536660042505`*^9, 3.677153731849165*^9}, {
  3.6771571599286194`*^9, 3.677157170271437*^9}, {3.67716466407055*^9, 
  3.67716469853701*^9}, {3.6771647666003304`*^9, 3.6771647945157785`*^9}, {
  3.6771740699941015`*^9, 3.677174073987708*^9}}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"G1", " ", "=", " ", 
  RowBox[{"calcG1FromTXY", "[", 
   RowBox[{"TiltX", ",", "TiltY"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"G1", " ", "=", " ", 
    RowBox[{"{", 
     RowBox[{"G1x", ",", "G1y", ",", "G1z"}], "}"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{"G1", "//", "MatrixForm"}]}], "Input",
 CellChangeTimes->{{3.6771535335080185`*^9, 3.677153534631221*^9}, {
   3.6771536307937884`*^9, 3.677153649312021*^9}, {3.6771647369230776`*^9, 
   3.6771647587047157`*^9}, {3.677174076483713*^9, 3.6771741008725557`*^9}, 
   3.677266802460656*^9, {3.6772672450688524`*^9, 3.677267275322706*^9}, {
   3.6772674462726154`*^9, 3.6772674480978184`*^9}, {3.677267484978485*^9, 
   3.677267492454899*^9}, {3.6772676062681065`*^9, 3.677267610218913*^9}, {
   3.6772677779006186`*^9, 3.6772677784934196`*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"Sin", "[", "TiltY", "]"}], ",", 
   RowBox[{"-", 
    RowBox[{"Sin", "[", "TiltX", "]"}]}], ",", 
   RowBox[{"-", 
    SqrtBox[
     RowBox[{"1", "-", 
      SuperscriptBox[
       RowBox[{"Sin", "[", "TiltX", "]"}], "2"], "-", 
      SuperscriptBox[
       RowBox[{"Sin", "[", "TiltY", "]"}], "2"]}]]}]}], "}"}]], "Output",
 CellChangeTimes->{{3.677175594294174*^9, 3.677175605966995*^9}, {
   3.6771757770336943`*^9, 3.6771758092683516`*^9}, {3.6771759310123644`*^9, 
   3.6771759681932297`*^9}, 3.6771762915477962`*^9, {3.677176361369919*^9, 
   3.677176381509554*^9}, 3.677176551388652*^9, 3.6771766060903473`*^9, 
   3.67717667018526*^9, {3.677176726576759*^9, 3.677176760215418*^9}, {
   3.677176800782489*^9, 3.677176836667552*^9}, 3.6771768688876085`*^9, 
   3.6771769561339607`*^9, 3.6772622773223796`*^9, 3.677262453539894*^9, 
   3.6772634320104523`*^9, 3.6772634993141727`*^9, {3.6772654744913297`*^9, 
   3.677265499362174*^9}, {3.6772655516994677`*^9, 3.6772655604560833`*^9}, 
   3.6772656360094204`*^9, 3.6772656943647256`*^9, 3.67726575294103*^9, 
   3.6772657853378897`*^9, 3.677265884250067*^9, 3.6772661823346024`*^9, 
   3.677266226274482*^9, 3.677266260731744*^9, 3.677266347095499*^9, 
   3.677267277757311*^9, 3.6772674496744213`*^9, 3.677267494753103*^9, 
   3.677267552041606*^9, 3.677267614323721*^9, 3.6772676993516755`*^9, 
   3.6772677805702233`*^9}],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", 
   TagBox[GridBox[{
      {"G1x"},
      {"G1y"},
      {"G1z"}
     },
     GridBoxAlignment->{
      "Columns" -> {{Center}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}},
        "RowsIndexed" -> {}},
     GridBoxSpacings->{"Columns" -> {
         Offset[0.27999999999999997`], {
          Offset[0.5599999999999999]}, 
         Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
         Offset[0.2], {
          Offset[0.4]}, 
         Offset[0.2]}, "RowsIndexed" -> {}}],
    Column], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellChangeTimes->{{3.677175594294174*^9, 3.677175605966995*^9}, {
   3.6771757770336943`*^9, 3.6771758092683516`*^9}, {3.6771759310123644`*^9, 
   3.6771759681932297`*^9}, 3.6771762915477962`*^9, {3.677176361369919*^9, 
   3.677176381509554*^9}, 3.677176551388652*^9, 3.6771766060903473`*^9, 
   3.67717667018526*^9, {3.677176726576759*^9, 3.677176760215418*^9}, {
   3.677176800782489*^9, 3.677176836667552*^9}, 3.6771768688876085`*^9, 
   3.6771769561339607`*^9, 3.6772622773223796`*^9, 3.677262453539894*^9, 
   3.6772634320104523`*^9, 3.6772634993141727`*^9, {3.6772654744913297`*^9, 
   3.677265499362174*^9}, {3.6772655516994677`*^9, 3.6772655604560833`*^9}, 
   3.6772656360094204`*^9, 3.6772656943647256`*^9, 3.67726575294103*^9, 
   3.6772657853378897`*^9, 3.677265884250067*^9, 3.6772661823346024`*^9, 
   3.677266226274482*^9, 3.677266260731744*^9, 3.677266347095499*^9, 
   3.677267277757311*^9, 3.6772674496744213`*^9, 3.677267494753103*^9, 
   3.677267552041606*^9, 3.677267614323721*^9, 3.6772676993516755`*^9, 
   3.6772677805702233`*^9}]
}, Open  ]],

Cell["\<\
Here I will use two coordinate systems: S1 is the sensor body system and S2 \
is  S1 rotated about the Y body axis by an angle AlphaV. AlphaV is chosen so \
that the S2 system for the reference sensor results in a zero X component of \
the gravity vector, G2x==0. This means that the S2 XZ plane for the reference \
sensor is the vertical plane, the gravity vector lies within it.

After AlphaV is calculated, the S2 coordinate systems for the Fore and Aft \
sensors are obtained by rotating about their body Y axis
and the gravity vectors for both sensors are calculated.\
\>", "Text",
 CellChangeTimes->{
  3.6744995262709293`*^9, {3.6771564634885955`*^9, 3.6771565063634706`*^9}, {
   3.6771568102488065`*^9, 3.6771568824079328`*^9}, {3.677164828593239*^9, 
   3.6771648473046713`*^9}, {3.67716511386854*^9, 3.677165144156193*^9}, {
   3.6771652739890203`*^9, 3.677165319664301*^9}, {3.677171041559588*^9, 
   3.677171043353591*^9}, {3.677174115444981*^9, 3.6771741313756094`*^9}, {
   3.6771746618077383`*^9, 3.677174798761778*^9}, {3.67717485127747*^9, 
   3.6771750157909603`*^9}, {3.67717506164544*^9, 3.6771750680590515`*^9}, {
   3.677175099076906*^9, 3.677175159079611*^9}, {3.677262588056136*^9, 
   3.6772628128361387`*^9}, {3.6772628755272512`*^9, 
   3.6772628878426733`*^9}, {3.677262935212158*^9, 3.6772629688944187`*^9}, {
   3.6772631113636737`*^9, 3.6772632538619304`*^9}, {3.6772633197268486`*^9, 
   3.677263321880653*^9}, {3.6772633893457747`*^9, 3.6772634081320095`*^9}}],

Cell["\<\
Here are the rotation matrices given as functions of the roll angle : \
\>", "Text",
 CellChangeTimes->{{3.6771752815910254`*^9, 3.6771753011372604`*^9}, {
   3.6771755357392716`*^9, 3.677175562187318*^9}, 3.6772634094600115`*^9}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"ctL12", "[", "AR_", "]"}], "=", " ", 
   RowBox[{
    RowBox[{"RotateY", "[", "AR", "]"}], "//", "FullSimplify"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"ctL21", "[", "AR_", "]"}], "=", " ", 
   RowBox[{
    RowBox[{"Transpose", "[", 
     RowBox[{"ctL12", "[", "AR", "]"}], "]"}], "//", "FullSimplify"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ctL12", "[", "AR", "]"}], "//", 
  "MatrixForm"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ctL21", "[", "AR", "]"}], "//", "MatrixForm"}]}], "Input",
 CellChangeTimes->{{3.677156727509862*^9, 3.6771568059119987`*^9}, 
   3.6771571883568687`*^9, {3.6771576596318245`*^9, 3.677157660458626*^9}, {
   3.6771648508458776`*^9, 3.677164902792369*^9}, {3.677165066418856*^9, 
   3.6771650671520576`*^9}, {3.677169036791623*^9, 3.677169037010023*^9}, {
   3.677175304493266*^9, 3.677175304867667*^9}, {3.6771753539025526`*^9, 
   3.6771754394837027`*^9}, {3.6771755570363092`*^9, 3.677175566305725*^9}, {
   3.6771756770537195`*^9, 3.6771756774749203`*^9}}],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {
      RowBox[{"Cos", "[", "AR", "]"}], "0", 
      RowBox[{"Sin", "[", "AR", "]"}]},
     {"0", "1", "0"},
     {
      RowBox[{"-", 
       RowBox[{"Sin", "[", "AR", "]"}]}], "0", 
      RowBox[{"Cos", "[", "AR", "]"}]}
    },
    GridBoxAlignment->{
     "Columns" -> {{Center}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}}, 
      "RowsIndexed" -> {}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}, "RowsIndexed" -> {}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellChangeTimes->{{3.6771755943097744`*^9, 3.6771756059825945`*^9}, {
   3.6771757770648947`*^9, 3.6771758092839513`*^9}, {3.6771759310435643`*^9, 
   3.67717596820883*^9}, 3.6771762915633965`*^9, {3.677176361401119*^9, 
   3.6771763815407543`*^9}, 3.677176551419852*^9, 3.6771766061215477`*^9, 
   3.67717667021646*^9, {3.6771767265923586`*^9, 3.677176760231018*^9}, {
   3.677176800798089*^9, 3.6771768366831517`*^9}, 3.6771768689032087`*^9, 
   3.677176956149561*^9, 3.6772622773691797`*^9, 3.6772624535710945`*^9, 
   3.6772634320260525`*^9, 3.6772634993297725`*^9, {3.67726547453813*^9, 
   3.6772654993933744`*^9}, {3.677265551715068*^9, 3.6772655604716835`*^9}, 
   3.6772656360250206`*^9, 3.6772656943647256`*^9, 3.67726575295663*^9, 
   3.67726578535349*^9, 3.677265884265667*^9, 3.6772661823502026`*^9, 
   3.677266226274482*^9, 3.677266260747344*^9, 3.677266347095499*^9, 
   3.677267277772911*^9, 3.6772674497056212`*^9, 3.6772674947843027`*^9, 
   3.6772675520728054`*^9, 3.6772676143403206`*^9, 3.6772676993984756`*^9, 
   3.677267780585823*^9}],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {
      RowBox[{"Cos", "[", "AR", "]"}], "0", 
      RowBox[{"-", 
       RowBox[{"Sin", "[", "AR", "]"}]}]},
     {"0", "1", "0"},
     {
      RowBox[{"Sin", "[", "AR", "]"}], "0", 
      RowBox[{"Cos", "[", "AR", "]"}]}
    },
    GridBoxAlignment->{
     "Columns" -> {{Center}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}}, 
      "RowsIndexed" -> {}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}, "RowsIndexed" -> {}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellChangeTimes->{{3.6771755943097744`*^9, 3.6771756059825945`*^9}, {
   3.6771757770648947`*^9, 3.6771758092839513`*^9}, {3.6771759310435643`*^9, 
   3.67717596820883*^9}, 3.6771762915633965`*^9, {3.677176361401119*^9, 
   3.6771763815407543`*^9}, 3.677176551419852*^9, 3.6771766061215477`*^9, 
   3.67717667021646*^9, {3.6771767265923586`*^9, 3.677176760231018*^9}, {
   3.677176800798089*^9, 3.6771768366831517`*^9}, 3.6771768689032087`*^9, 
   3.677176956149561*^9, 3.6772622773691797`*^9, 3.6772624535710945`*^9, 
   3.6772634320260525`*^9, 3.6772634993297725`*^9, {3.67726547453813*^9, 
   3.6772654993933744`*^9}, {3.677265551715068*^9, 3.6772655604716835`*^9}, 
   3.6772656360250206`*^9, 3.6772656943647256`*^9, 3.67726575295663*^9, 
   3.67726578535349*^9, 3.677265884265667*^9, 3.6772661823502026`*^9, 
   3.677266226274482*^9, 3.677266260747344*^9, 3.677266347095499*^9, 
   3.677267277772911*^9, 3.6772674497056212`*^9, 3.6772674947843027`*^9, 
   3.6772675520728054`*^9, 3.6772676143403206`*^9, 3.6772676993984756`*^9, 
   3.677267780585823*^9}]
}, Open  ]],

Cell["Here\[CloseCurlyQuote]s the gravity vector in S2 : ", "Text",
 CellChangeTimes->{{3.6771752815910254`*^9, 3.6771753011372604`*^9}, {
  3.6771755357392716`*^9, 3.6771755917669697`*^9}, {3.677175670075507*^9, 
  3.677175672852312*^9}, {3.6771757424726343`*^9, 3.6771757427378345`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"G2", " ", "=", " ", 
   RowBox[{
    RowBox[{"ctL21", "[", "AV", "]"}], ".", "G1"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"G2", "//", "MatrixForm"}]}], "Input",
 CellChangeTimes->{3.677175603892191*^9}],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", 
   TagBox[GridBox[{
      {
       RowBox[{
        RowBox[{"G1x", " ", 
         RowBox[{"Cos", "[", "AV", "]"}]}], "-", 
        RowBox[{"G1z", " ", 
         RowBox[{"Sin", "[", "AV", "]"}]}]}]},
      {"G1y"},
      {
       RowBox[{
        RowBox[{"G1z", " ", 
         RowBox[{"Cos", "[", "AV", "]"}]}], "+", 
        RowBox[{"G1x", " ", 
         RowBox[{"Sin", "[", "AV", "]"}]}]}]}
     },
     GridBoxAlignment->{
      "Columns" -> {{Center}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}},
        "RowsIndexed" -> {}},
     GridBoxSpacings->{"Columns" -> {
         Offset[0.27999999999999997`], {
          Offset[0.5599999999999999]}, 
         Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
         Offset[0.2], {
          Offset[0.4]}, 
         Offset[0.2]}, "RowsIndexed" -> {}}],
    Column], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellChangeTimes->{{3.6771755943253746`*^9, 3.6771756059981947`*^9}, {
   3.677175777080495*^9, 3.677175809315151*^9}, {3.677175931059164*^9, 
   3.6771759682244296`*^9}, 3.677176291594597*^9, {3.677176361416719*^9, 
   3.6771763815563545`*^9}, 3.6771765514354515`*^9, 3.677176606137148*^9, 
   3.67717667023206*^9, {3.6771767265923586`*^9, 3.6771767602466183`*^9}, {
   3.677176800813689*^9, 3.6771768366987514`*^9}, 3.6771768689188085`*^9, 
   3.677176956165161*^9, 3.67726227738478*^9, 3.6772624535866947`*^9, 
   3.6772634320260525`*^9, 3.677263499345372*^9, {3.67726547453813*^9, 
   3.6772654993933744`*^9}, {3.677265551730668*^9, 3.6772655604872837`*^9}, 
   3.6772656360250206`*^9, 3.6772656943803253`*^9, 3.67726575297223*^9, 
   3.67726578536909*^9, 3.677265884265667*^9, 3.6772661823502026`*^9, 
   3.677266226290082*^9, 3.6772662607629437`*^9, 3.677266347111099*^9, 
   3.677267277788511*^9, 3.677267449721221*^9, 3.677267494799903*^9, 
   3.677267552104006*^9, 3.677267614355921*^9, 3.6772676993984756`*^9, 
   3.6772677806014233`*^9}]
}, Open  ]],

Cell["Solve for the required rotation angle : ", "Text",
 CellChangeTimes->{{3.6771752815910254`*^9, 3.6771753011372604`*^9}, {
  3.6771755357392716`*^9, 3.6771755917669697`*^9}, {3.677175670075507*^9, 
  3.677175672852312*^9}, {3.6771757424726343`*^9, 3.6771757609646664`*^9}, {
  3.677175883972282*^9, 3.677175897124105*^9}}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"G2x", " ", "=", " ", 
   RowBox[{"G2", "[", 
    RowBox[{"[", "1", "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"EQ1", " ", "=", " ", 
  RowBox[{"G2x", "\[Equal]", "0"}]}]}], "Input",
 CellChangeTimes->{
  3.677175603892191*^9, {3.6771757639910717`*^9, 3.6771758309699893`*^9}, {
   3.67717589971371*^9, 3.6771759386095777`*^9}, {3.677262234453302*^9, 
   3.677262239840312*^9}, {3.677263481781341*^9, 3.677263497566969*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"G1x", " ", 
    RowBox[{"Cos", "[", "AV", "]"}]}], "-", 
   RowBox[{"G1z", " ", 
    RowBox[{"Sin", "[", "AV", "]"}]}]}], "\[Equal]", "0"}]], "Output",
 CellChangeTimes->{{3.6771755943253746`*^9, 3.6771756059981947`*^9}, {
   3.677175777080495*^9, 3.677175809315151*^9}, {3.6771759310747643`*^9, 
   3.6771759682556295`*^9}, 3.677176291610197*^9, {3.677176361447919*^9, 
   3.677176381587554*^9}, 3.6771765514510517`*^9, 3.6771766061683474`*^9, 
   3.6771766702476597`*^9, {3.677176726623559*^9, 3.6771767602778177`*^9}, {
   3.6771768008448887`*^9, 3.6771768367143517`*^9}, 3.6771768689500084`*^9, 
   3.6771769561963615`*^9, 3.6772622774003797`*^9, 3.677262453602295*^9, 
   3.677263432041652*^9, 3.677263499345372*^9, {3.67726547455373*^9, 
   3.677265499408974*^9}, {3.677265551730668*^9, 3.6772655604872837`*^9}, 
   3.677265636040621*^9, 3.6772656943959255`*^9, 3.67726575297223*^9, 
   3.67726578536909*^9, 3.677265884281267*^9, 3.6772661823658023`*^9, 
   3.677266226290082*^9, 3.6772662607785435`*^9, 3.677266347111099*^9, 
   3.6772672778041105`*^9, 3.677267449736821*^9, 3.677267494815503*^9, 
   3.677267552104006*^9, 3.677267614371521*^9, 3.677267699414076*^9, 
   3.6772677806014233`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"$Assumptions", "=", "true"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"$Assumptions", " ", "=", 
   RowBox[{"$Assumptions", " ", "&&", " ", 
    RowBox[{"Reals", "[", 
     RowBox[{"G2x", ",", "G2Z", ",", "AV", ",", "TiltX", ",", "TiltY"}], 
     "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"S11", " ", "=", " ", 
  RowBox[{"Solve", "[", 
   RowBox[{"EQ1", ",", "AV"}], "]"}]}]}], "Input",
 CellChangeTimes->{{3.6771759471583924`*^9, 3.677175966149626*^9}, {
   3.677176203770043*^9, 3.6771762667065525`*^9}, 3.677176359716316*^9, {
   3.6771765896927185`*^9, 3.677176593124725*^9}, {3.677262248718128*^9, 
   3.6772622523393345`*^9}, {3.677267543954791*^9, 3.6772675492160006`*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"AV", "\[Rule]", 
     RowBox[{"ConditionalExpression", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"ArcTan", "[", 
         RowBox[{
          RowBox[{"-", 
           FractionBox["G1z", 
            SqrtBox[
             RowBox[{
              SuperscriptBox["G1x", "2"], "+", 
              SuperscriptBox["G1z", "2"]}]]]}], ",", 
          RowBox[{"-", 
           FractionBox["G1x", 
            SqrtBox[
             RowBox[{
              SuperscriptBox["G1x", "2"], "+", 
              SuperscriptBox["G1z", "2"]}]]]}]}], "]"}], "+", 
        RowBox[{"2", " ", "\[Pi]", " ", 
         RowBox[{"C", "[", "1", "]"}]}]}], ",", 
       RowBox[{
        RowBox[{"C", "[", "1", "]"}], "\[Element]", "Integers"}]}], "]"}]}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"AV", "\[Rule]", 
     RowBox[{"ConditionalExpression", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"ArcTan", "[", 
         RowBox[{
          FractionBox["G1z", 
           SqrtBox[
            RowBox[{
             SuperscriptBox["G1x", "2"], "+", 
             SuperscriptBox["G1z", "2"]}]]], ",", 
          FractionBox["G1x", 
           SqrtBox[
            RowBox[{
             SuperscriptBox["G1x", "2"], "+", 
             SuperscriptBox["G1z", "2"]}]]]}], "]"}], "+", 
        RowBox[{"2", " ", "\[Pi]", " ", 
         RowBox[{"C", "[", "1", "]"}]}]}], ",", 
       RowBox[{
        RowBox[{"C", "[", "1", "]"}], "\[Element]", "Integers"}]}], "]"}]}], 
    "}"}]}], "}"}]], "Output",
 CellChangeTimes->{
  3.67717596828683*^9, 3.6771762916413965`*^9, {3.6771763614791193`*^9, 
   3.6771763816187544`*^9}, 3.6771765514978523`*^9, 3.677176606199548*^9, 
   3.6771766702944603`*^9, {3.6771767266703587`*^9, 3.6771767603246183`*^9}, {
   3.6771768008916893`*^9, 3.6771768367611523`*^9}, 3.677176868996808*^9, 
   3.677176956243161*^9, 3.6772622774315796`*^9, 3.6772624536334944`*^9, 
   3.677263432072852*^9, 3.6772634993765726`*^9, {3.6772654745849295`*^9, 
   3.677265499440174*^9}, {3.6772655517774677`*^9, 3.6772655605184836`*^9}, 
   3.6772656360718207`*^9, 3.677265694427126*^9, 3.6772657530034304`*^9, 
   3.67726578540029*^9, 3.677265884312467*^9, 3.6772661823814025`*^9, 
   3.6772662263212824`*^9, 3.6772662607941437`*^9, 3.677266347143299*^9, 
   3.677267278038111*^9, 3.6772674497836213`*^9, 3.6772674948623033`*^9, 
   3.6772675521664057`*^9, 3.677267614450521*^9, 3.6772676995076756`*^9, 
   3.6772677806170235`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"S12", "=", 
   RowBox[{"S11", "/.", 
    RowBox[{
     RowBox[{"C", "[", "1", "]"}], "\[Rule]", "0"}]}]}], 
  "\[IndentingNewLine]"}]], "Input",
 CellChangeTimes->{{3.6771763655819263`*^9, 3.67717637909155*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"AV", "\[Rule]", 
     RowBox[{"ArcTan", "[", 
      RowBox[{
       RowBox[{"-", 
        FractionBox["G1z", 
         SqrtBox[
          RowBox[{
           SuperscriptBox["G1x", "2"], "+", 
           SuperscriptBox["G1z", "2"]}]]]}], ",", 
       RowBox[{"-", 
        FractionBox["G1x", 
         SqrtBox[
          RowBox[{
           SuperscriptBox["G1x", "2"], "+", 
           SuperscriptBox["G1z", "2"]}]]]}]}], "]"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"AV", "\[Rule]", 
     RowBox[{"ArcTan", "[", 
      RowBox[{
       FractionBox["G1z", 
        SqrtBox[
         RowBox[{
          SuperscriptBox["G1x", "2"], "+", 
          SuperscriptBox["G1z", "2"]}]]], ",", 
       FractionBox["G1x", 
        SqrtBox[
         RowBox[{
          SuperscriptBox["G1x", "2"], "+", 
          SuperscriptBox["G1z", "2"]}]]]}], "]"}]}], "}"}]}], "}"}]], "Output",
 CellChangeTimes->{
  3.6771763816499543`*^9, 3.677176551529052*^9, 3.6771766062307477`*^9, 
   3.67717667031006*^9, {3.677176726685959*^9, 3.677176760340218*^9}, {
   3.6771768009072895`*^9, 3.677176836776752*^9}, 3.6771768690124083`*^9, 
   3.6771769562587614`*^9, 3.67726227744718*^9, 3.6772624536490946`*^9, 
   3.6772634320884523`*^9, 3.6772634993921723`*^9, {3.6772654746005297`*^9, 
   3.6772654994557743`*^9}, {3.677265551793068*^9, 3.6772655605340834`*^9}, 
   3.6772656360874205`*^9, 3.677265694427126*^9, 3.6772657530190306`*^9, 
   3.6772657854158897`*^9, 3.6772658843280673`*^9, 3.677266182397002*^9, 
   3.677266226336882*^9, 3.677266260809744*^9, 3.677266347158899*^9, 
   3.677267278053711*^9, 3.677267449799221*^9, 3.677267494877903*^9, 
   3.677267552182006*^9, 3.6772676144535213`*^9, 3.677267699524276*^9, 
   3.6772677806326237`*^9}]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"AV11", " ", "=", " ", 
    RowBox[{
     RowBox[{
      RowBox[{"S12", "[", 
       RowBox[{"[", "1", "]"}], "]"}], "[", 
      RowBox[{"[", "1", "]"}], "]"}], "[", 
     RowBox[{"[", "2", "]"}], "]"}]}], ";"}], "//", "FullSimplify"}]], "Input",
 CellChangeTimes->{{3.6771765386404295`*^9, 3.677176549797449*^9}, {
   3.677176598881135*^9, 3.677176603297943*^9}, 3.6771766680480556`*^9, {
   3.6771767128019347`*^9, 3.6771767575010133`*^9}, 3.677176863548399*^9, {
   3.6772624356668625`*^9, 3.677262439381669*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"AV12", " ", "=", " ", 
    RowBox[{
     RowBox[{
      RowBox[{"S12", "[", 
       RowBox[{"[", "2", "]"}], "]"}], "[", 
      RowBox[{"[", "1", "]"}], "]"}], "[", 
     RowBox[{"[", "2", "]"}], "]"}]}], ";"}], "//", " ", 
  "FullSimplify"}]], "Input",
 CellChangeTimes->{{3.677176794557078*^9, 3.6771768351699495`*^9}, 
   3.6771768662628036`*^9, {3.67726244537708*^9, 3.6772624518540916`*^9}}],

Cell["Here\[CloseCurlyQuote]s two angles for the solution: ", "Text",
 CellChangeTimes->{{3.6771752815910254`*^9, 3.6771753011372604`*^9}, {
  3.6771755357392716`*^9, 3.6771755917669697`*^9}, {3.677175670075507*^9, 
  3.677175672852312*^9}, {3.6771757424726343`*^9, 3.6771757609646664`*^9}, {
  3.677175883972282*^9, 3.677175897124105*^9}, {3.677176888124442*^9, 
  3.6771769366143265`*^9}, {3.677265311909835*^9, 3.6772653145180397`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[{"AV11", "\[IndentingNewLine]", "AV12"}], "Input",
 CellChangeTimes->{{3.677176941294335*^9, 3.6771769615949707`*^9}, {
  3.6772675274349613`*^9, 3.6772675322583704`*^9}}],

Cell[BoxData[
 RowBox[{"ArcTan", "[", 
  RowBox[{
   RowBox[{"-", 
    FractionBox["G1z", 
     SqrtBox[
      RowBox[{
       SuperscriptBox["G1x", "2"], "+", 
       SuperscriptBox["G1z", "2"]}]]]}], ",", 
   RowBox[{"-", 
    FractionBox["G1x", 
     SqrtBox[
      RowBox[{
       SuperscriptBox["G1x", "2"], "+", 
       SuperscriptBox["G1z", "2"]}]]]}]}], "]"}]], "Output",
 CellChangeTimes->{
  3.677176956289961*^9, 3.6772622774627795`*^9, 3.677262453664695*^9, 
   3.6772634321040525`*^9, 3.677263499407772*^9, {3.67726547461613*^9, 
   3.677265499487974*^9}, {3.677265551808668*^9, 3.677265560565284*^9}, 
   3.6772656361030207`*^9, 3.6772656944583254`*^9, 3.6772657530346303`*^9, 
   3.67726578543149*^9, 3.677265884343667*^9, 3.6772661824282026`*^9, 
   3.6772662263524823`*^9, 3.677266260825344*^9, 3.677266347174499*^9, 
   3.6772672780859118`*^9, 3.6772674499084215`*^9, 3.6772674949091034`*^9, 
   3.677267552197606*^9, 3.677267614484721*^9, 3.677267699539876*^9, 
   3.6772677806638236`*^9}],

Cell[BoxData[
 RowBox[{"ArcTan", "[", 
  RowBox[{
   FractionBox["G1z", 
    SqrtBox[
     RowBox[{
      SuperscriptBox["G1x", "2"], "+", 
      SuperscriptBox["G1z", "2"]}]]], ",", 
   FractionBox["G1x", 
    SqrtBox[
     RowBox[{
      SuperscriptBox["G1x", "2"], "+", 
      SuperscriptBox["G1z", "2"]}]]]}], "]"}]], "Output",
 CellChangeTimes->{
  3.677176956289961*^9, 3.6772622774627795`*^9, 3.677262453664695*^9, 
   3.6772634321040525`*^9, 3.677263499407772*^9, {3.67726547461613*^9, 
   3.677265499487974*^9}, {3.677265551808668*^9, 3.677265560565284*^9}, 
   3.6772656361030207`*^9, 3.6772656944583254`*^9, 3.6772657530346303`*^9, 
   3.67726578543149*^9, 3.677265884343667*^9, 3.6772661824282026`*^9, 
   3.6772662263524823`*^9, 3.677266260825344*^9, 3.677266347174499*^9, 
   3.6772672780859118`*^9, 3.6772674499084215`*^9, 3.6772674949091034`*^9, 
   3.677267552197606*^9, 3.677267614484721*^9, 3.677267699539876*^9, 
   3.6772677806638236`*^9}]
}, Open  ]],

Cell["\<\

Test the solutions (the first one G21 looks good):\
\>", "Text",
 CellChangeTimes->{{3.677265431979852*^9, 3.6772654578210993`*^9}, {
  3.6772655687143*^9, 3.6772655863603315`*^9}, {3.6772658715582447`*^9, 
  3.6772658821284637`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"G20", " ", "=", " ", 
   RowBox[{
    RowBox[{
     RowBox[{"ctL21", "[", "AV", "]"}], ".", "G1"}], "//", "FullSimplify"}]}],
   ";"}], "\[IndentingNewLine]", 
 RowBox[{"G20", "//", "MatrixForm"}]}], "Input",
 CellChangeTimes->{{3.677265427656645*^9, 3.6772654287808466`*^9}, {
  3.6772654613019056`*^9, 3.6772654978333716`*^9}, {3.67726553619464*^9, 
  3.6772655363818407`*^9}, {3.6772655895769377`*^9, 3.6772656024891605`*^9}, {
  3.677265745315216*^9, 3.6772657654426527`*^9}}],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", 
   TagBox[GridBox[{
      {
       RowBox[{
        RowBox[{"G1x", " ", 
         RowBox[{"Cos", "[", "AV", "]"}]}], "-", 
        RowBox[{"G1z", " ", 
         RowBox[{"Sin", "[", "AV", "]"}]}]}]},
      {"G1y"},
      {
       RowBox[{
        RowBox[{"G1z", " ", 
         RowBox[{"Cos", "[", "AV", "]"}]}], "+", 
        RowBox[{"G1x", " ", 
         RowBox[{"Sin", "[", "AV", "]"}]}]}]}
     },
     GridBoxAlignment->{
      "Columns" -> {{Center}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}},
        "RowsIndexed" -> {}},
     GridBoxSpacings->{"Columns" -> {
         Offset[0.27999999999999997`], {
          Offset[0.5599999999999999]}, 
         Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
         Offset[0.2], {
          Offset[0.4]}, 
         Offset[0.2]}, "RowsIndexed" -> {}}],
    Column], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellChangeTimes->{{3.67726547463173*^9, 3.677265499487974*^9}, {
   3.6772655518242683`*^9, 3.677265560565284*^9}, 3.677265636118621*^9, 
   3.6772656944739256`*^9, 3.6772657530970306`*^9, 3.67726578544709*^9, 
   3.677265884361267*^9, 3.6772661824438024`*^9, 3.677266226368082*^9, 
   3.6772662608409443`*^9, 3.677266347190099*^9, 3.6772672786163125`*^9, 
   3.677267450002022*^9, 3.6772674951431036`*^9, 3.6772675524316063`*^9, 
   3.677267614968322*^9, 3.677267700039077*^9, 3.6772677807106237`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"G21", " ", "=", " ", 
   RowBox[{
    RowBox[{
     RowBox[{"ctL21", "[", "AV11", "]"}], ".", "G1"}], "//", 
    "FullSimplify"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"G21", "//", "MatrixForm"}]}], "Input",
 CellChangeTimes->{{3.6772655453910565`*^9, 3.677265558896081*^9}, {
   3.6772656099021735`*^9, 3.677265622661397*^9}, 3.677265778444475*^9, {
   3.677266169453579*^9, 3.6772661696563797`*^9}}],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", 
   TagBox[GridBox[{
      {"0"},
      {"G1y"},
      {
       RowBox[{"-", 
        SqrtBox[
         RowBox[{
          SuperscriptBox["G1x", "2"], "+", 
          SuperscriptBox["G1z", "2"]}]]}]}
     },
     GridBoxAlignment->{
      "Columns" -> {{Center}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}},
        "RowsIndexed" -> {}},
     GridBoxSpacings->{"Columns" -> {
         Offset[0.27999999999999997`], {
          Offset[0.5599999999999999]}, 
         Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
         Offset[0.2], {
          Offset[0.4]}, 
         Offset[0.2]}, "RowsIndexed" -> {}}],
    Column], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellChangeTimes->{{3.6772655518242683`*^9, 3.6772655605808835`*^9}, 
   3.677265636134221*^9, 3.677265694489526*^9, 3.6772657531126304`*^9, 
   3.67726578547829*^9, 3.6772658843768673`*^9, 3.6772661824438024`*^9, 
   3.6772662263836823`*^9, 3.677266260856544*^9, 3.677266347205699*^9, 
   3.6772672808949165`*^9, 3.6772674500332212`*^9, 3.6772674953459044`*^9, 
   3.677267552634407*^9, 3.6772676172001257`*^9, 3.6772677023800807`*^9, 
   3.6772677807418237`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"G22", " ", "=", " ", 
   RowBox[{
    RowBox[{
     RowBox[{"ctL21", "[", "AV12", "]"}], ".", "G1"}], "//", 
    "FullSimplify"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"G22", "//", "MatrixForm"}], "\[IndentingNewLine]"}], "Input",
 CellChangeTimes->{
  3.677265539925047*^9, {3.6772656253184013`*^9, 3.6772656342144175`*^9}, {
   3.6772656831635056`*^9, 3.677265692491722*^9}, 3.6772657836978865`*^9}],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", 
   TagBox[GridBox[{
      {"0"},
      {"G1y"},
      {
       SqrtBox[
        RowBox[{
         SuperscriptBox["G1x", "2"], "+", 
         SuperscriptBox["G1z", "2"]}]]}
     },
     GridBoxAlignment->{
      "Columns" -> {{Center}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}},
        "RowsIndexed" -> {}},
     GridBoxSpacings->{"Columns" -> {
         Offset[0.27999999999999997`], {
          Offset[0.5599999999999999]}, 
         Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
         Offset[0.2], {
          Offset[0.4]}, 
         Offset[0.2]}, "RowsIndexed" -> {}}],
    Column], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellChangeTimes->{3.677265636134221*^9, 3.677265694505126*^9, 
  3.6772657531126304`*^9, 3.67726578549389*^9, 3.6772658843768673`*^9, 
  3.6772661824594026`*^9, 3.6772662263836823`*^9, 3.677266260856544*^9, 
  3.677266347205699*^9, 3.6772672829707203`*^9, 3.6772674501424217`*^9, 
  3.6772674955019045`*^9, 3.677267552774807*^9, 3.6772676192281294`*^9, 
  3.6772677044402847`*^9, 3.6772677807418237`*^9}]
}, Open  ]],

Cell["\<\

Rearrange to get the alignment angle, which is the angle of the gravity \
vector in the S2 XZ plane.\
\>", "Text",
 CellChangeTimes->{{3.677266082146223*^9, 3.6772661611025643`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "G2", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"G2", " ", "=", " ", 
   RowBox[{
    RowBox[{
     RowBox[{"ctL21", "[", "AV11", "]"}], ".", "G1"}], "//", 
    "FullSimplify"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"G2", "//", "MatrixForm"}]}], "Input",
 CellChangeTimes->{{3.677266060350584*^9, 3.6772660794454184`*^9}, {
  3.6772661641777697`*^9, 3.6772661764765916`*^9}, {3.6772663100104322`*^9, 
  3.6772663121194363`*^9}, {3.6772663446930943`*^9, 3.677266345020695*^9}}],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", 
   TagBox[GridBox[{
      {"0"},
      {"G1y"},
      {
       RowBox[{"-", 
        SqrtBox[
         RowBox[{
          SuperscriptBox["G1x", "2"], "+", 
          SuperscriptBox["G1z", "2"]}]]}]}
     },
     GridBoxAlignment->{
      "Columns" -> {{Center}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}},
        "RowsIndexed" -> {}},
     GridBoxSpacings->{"Columns" -> {
         Offset[0.27999999999999997`], {
          Offset[0.5599999999999999]}, 
         Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
         Offset[0.2], {
          Offset[0.4]}, 
         Offset[0.2]}, "RowsIndexed" -> {}}],
    Column], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellChangeTimes->{3.6772661824750023`*^9, 3.6772662263992825`*^9, 
  3.6772662608721437`*^9, 3.677266347221299*^9, 3.6772672830019197`*^9, 
  3.677267450158022*^9, 3.677267495517504*^9, 3.677267552790407*^9, 
  3.67726761925933*^9, 3.6772677044870844`*^9, 3.6772677807574234`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"G2y", " ", "=", " ", 
  RowBox[{"G2", "[", 
   RowBox[{"[", "2", "]"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"G2z", " ", "=", " ", 
  RowBox[{"G2", "[", 
   RowBox[{"[", "3", "]"}], "]"}]}], "\[IndentingNewLine]"}], "Input",
 CellChangeTimes->{{3.677266188225214*^9, 3.677266224525279*^9}}],

Cell[BoxData["G1y"], "Output",
 CellChangeTimes->{3.6772662608721437`*^9, 3.677266347221299*^9, 
  3.67726728301752*^9, 3.677267450173622*^9, 3.677267495533104*^9, 
  3.677267552806007*^9, 3.6772676192749295`*^9, 3.6772677045026846`*^9, 
  3.6772677807730236`*^9}],

Cell[BoxData[
 RowBox[{"-", 
  SqrtBox[
   RowBox[{
    SuperscriptBox["G1x", "2"], "+", 
    SuperscriptBox["G1z", "2"]}]]}]], "Output",
 CellChangeTimes->{3.6772662608721437`*^9, 3.677266347221299*^9, 
  3.67726728301752*^9, 3.677267450173622*^9, 3.677267495533104*^9, 
  3.677267552806007*^9, 3.6772676192749295`*^9, 3.6772677045026846`*^9, 
  3.6772677807730236`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"AA", " ", "=", " ", 
  RowBox[{
   RowBox[{"ArcTan", "[", 
    RowBox[{"G2z", ",", "G2y"}], "]"}], "//", "FullSimplify"}]}]], "Input",
 CellChangeTimes->{{3.6772662330332937`*^9, 3.677266257543338*^9}, {
  3.6772676905608597`*^9, 3.6772676974142723`*^9}}],

Cell[BoxData[
 RowBox[{"ArcTan", "[", 
  RowBox[{
   RowBox[{"-", 
    SqrtBox[
     RowBox[{
      SuperscriptBox["G1x", "2"], "+", 
      SuperscriptBox["G1z", "2"]}]]}], ",", "G1y"}], "]"}]], "Output",
 CellChangeTimes->{3.6772662264148827`*^9, 3.677266260887744*^9, 
  3.6772663472368994`*^9, 3.67726728303312*^9, 3.6772674501892223`*^9, 
  3.677267495548704*^9, 3.677267552821607*^9, 3.6772676192905293`*^9, 
  3.677267709419693*^9, 3.677267780804224*^9}]
}, Open  ]]
},
WindowSize->{1182, 832},
WindowMargins->{{Automatic, 105}, {26, Automatic}},
PrintingCopies->1,
PrintingPageRange->{32000, 32000},
PrintingOptions->{"Magnification"->1.,
"PaperOrientation"->"Portrait",
"PaperSize"->{612, 792}},
Magnification:>1.25 Inherited,
FrontEndVersion->"10.0 for Microsoft Windows (64-bit) (July 1, 2014)",
StyleDefinitions->Notebook[{
   Cell[
    StyleData[StyleDefinitions -> "Default.nb"]], 
   Cell[
    StyleData["Text"], FontColor -> RGBColor[0.5, 0, 0.5]]}, Visible -> False,
   FrontEndVersion -> "10.0 for Microsoft Windows (64-bit) (July 1, 2014)", 
  StyleDefinitions -> "PrivateStylesheetFormatting.nb"]
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[558, 20, 92, 1, 38, "Text"],
Cell[653, 23, 588, 13, 106, "Input"],
Cell[1244, 38, 1107, 28, 152, "Input"],
Cell[2354, 68, 488, 8, 63, "Text"],
Cell[CellGroupData[{
Cell[2867, 80, 883, 17, 106, "Input"],
Cell[3753, 99, 1432, 27, 53, "Output"],
Cell[5188, 128, 1702, 35, 90, "Output"]
}, Open  ]],
Cell[6905, 166, 1504, 23, 162, "Text"],
Cell[8412, 191, 240, 4, 38, "Text"],
Cell[CellGroupData[{
Cell[8677, 199, 1095, 25, 106, "Input"],
Cell[9775, 226, 1841, 38, 92, "Output"],
Cell[11619, 266, 1841, 38, 92, "Output"]
}, Open  ]],
Cell[13475, 307, 289, 3, 38, "Text"],
Cell[CellGroupData[{
Cell[13789, 314, 246, 7, 60, "Input"],
Cell[14038, 323, 2023, 45, 92, "Output"]
}, Open  ]],
Cell[16076, 371, 327, 4, 38, "Text"],
Cell[CellGroupData[{
Cell[16428, 379, 472, 10, 60, "Input"],
Cell[16903, 391, 1249, 21, 36, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[18189, 417, 737, 15, 83, "Input"],
Cell[18929, 434, 2498, 62, 127, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[21464, 501, 246, 7, 60, "Input"],
Cell[21713, 510, 1798, 45, 68, "Output"]
}, Open  ]],
Cell[23526, 558, 562, 13, 36, "Input"],
Cell[24091, 573, 443, 12, 36, "Input"],
Cell[24537, 587, 439, 5, 38, "Text"],
Cell[CellGroupData[{
Cell[25001, 596, 184, 2, 60, "Input"],
Cell[25188, 600, 1008, 24, 68, "Output"],
Cell[26199, 626, 960, 22, 68, "Output"]
}, Open  ]],
Cell[27174, 651, 245, 6, 63, "Text"],
Cell[CellGroupData[{
Cell[27444, 661, 516, 11, 60, "Input"],
Cell[27963, 674, 1478, 37, 92, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[29478, 716, 442, 10, 60, "Input"],
Cell[29923, 728, 1246, 32, 104, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[31206, 765, 442, 10, 83, "Input"],
Cell[31651, 777, 1160, 30, 104, "Output"]
}, Open  ]],
Cell[32826, 810, 193, 5, 63, "Text"],
Cell[CellGroupData[{
Cell[33044, 819, 546, 12, 83, "Input"],
Cell[33593, 833, 1063, 29, 104, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[34693, 867, 320, 7, 83, "Input"],
Cell[35016, 876, 264, 4, 36, "Output"],
Cell[35283, 882, 371, 9, 46, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[35691, 896, 279, 6, 36, InheritFromParent],
Cell[35973, 904, 460, 11, 52, "Output"]
}, Open  ]]
}
]
*)

(* End of internal cache information *)
